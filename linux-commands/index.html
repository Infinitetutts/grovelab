<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Linux Commands - Grovelab</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Linux Commands";
    var mkdocs_page_input_path = "linux-commands.md";
    var mkdocs_page_url = "/linux-commands/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Grovelab</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../linux-sysadmin/">Linux Sysadmin</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Linux Commands</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#find">Find</a></li>
    

    <li class="toctree-l2"><a href="#listening-on-ports-traffic-network-connections">Listening on Ports, Traffic Network connections</a></li>
    

    <li class="toctree-l2"><a href="#hardware-info">Hardware info</a></li>
    

    <li class="toctree-l2"><a href="#clonedownload-a-website">Clone/Download a website</a></li>
    

    <li class="toctree-l2"><a href="#backup-all-changed-config-files">Backup all changed config files</a></li>
    

    <li class="toctree-l2"><a href="#download-maps-from-csgo-web-server">Download maps from csgo web server</a></li>
    

    <li class="toctree-l2"><a href="#mount-windows-partition-that-is-in-hibernation-mode">Mount Windows Partition that is in hibernation mode</a></li>
    

    <li class="toctree-l2"><a href="#listing-user-logins-reboot-times-and-bad-login-attempts">Listing User Logins, reboot times and bad login attempts</a></li>
    

    <li class="toctree-l2"><a href="#commonnly-used">Commonnly used</a></li>
    

    <li class="toctree-l2"><a href="#compare-files-and-directories-content">Compare files and directories content</a></li>
    

    <li class="toctree-l2"><a href="#network-manager">Network manager</a></li>
    

    <li class="toctree-l2"><a href="#ufw">UFW</a></li>
    

    <li class="toctree-l2"><a href="#imagemagick-command-line-image-manipulation">ImageMagick - Command Line Image Manipulation</a></li>
    

    <li class="toctree-l2"><a href="#tmux-screen">TMUX &amp; screen</a></li>
    

    <li class="toctree-l2"><a href="#curl">Curl</a></li>
    

    <li class="toctree-l2"><a href="#dig">Dig</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../linuxtools-commands/">Linux Tools Commands</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../text/">Text (awk sed grep etc )</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../mysql/">MySQL</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../apache/">Apache</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../docker/">Docker</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../git/">Git</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../vim/">Vim</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../linux-desktop/">Linux Desktop</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../macos/">MacOS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../opensouce-tools-and-terms/">Linux Tools and Terms</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Grovelab</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Linux Commands</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="find">Find</h2>
<p><strong>Find all matching files and replace with new file</strong></p>
<pre><code class="bash">find ~/ -type f -iname &quot;gameme.smx&quot; | while read line
do
  cp -v gameme.smx $line
done
</code></pre>

<p><strong>Find and remove permissions</strong></p>
<pre><code class="bash">find . -type f -iname &quot;*.ini&quot; -exec chmod -x {} \;
</code></pre>

<p><strong>Find files and grep</strong></p>
<pre><code class="bash">find ~/ -type f -name &quot;autoexec.cfg&quot; -exec cat {} | grep 'log_address' \;
</code></pre>

<p><strong>Find and replace text in multiple files</strong></p>
<pre><code class="bash">sed -i 's/&quot;findtext&quot;/&quot;replacetext&quot;/g' *
</code></pre>

<p><strong>Find text and replace the entire line</strong></p>
<pre><code class="bash">sed -i 's/&quot;^findtext.*&quot;/&quot;replacetext&quot;/g' *
</code></pre>

<p><strong>Delete a specific subfolder within all directories</strong></p>
<pre><code class="bash">echo ~/john/*/csgo/csgo/ | xargs -n 1 rm -r 
</code></pre>

<p><strong>Copy a specific sub directory from all directories.</strong></p>
<pre><code class="bash">echo ~/john/*/ | xargs -n 1 cp -R csgo/
</code></pre>

<p>The -i option of cp command means that you will be asked whether to overwrite a file</p>
<p><strong>Find empty files and delete</strong></p>
<pre><code>find /tmp -type f -empty -delete
</code></pre>

<p><strong>Find and replace string</strong></p>
<pre><code class="bash">find . -type f -name &quot;gamemode_comp*&quot; -exec sed -i 's/123/dfg/g' {} + 
</code></pre>

<h2 id="listening-on-ports-traffic-network-connections">Listening on Ports, Traffic Network connections</h2>
<p><strong>Find port of runnin application</strong></p>
<pre><code class="bash">netstat -lnp | grep ts3
netstat -l -a -p -n  
</code></pre>

<p><strong>Find appliction listening on a port</strong></p>
<pre><code class="bash">sudo lsof -i :80
</code></pre>

<p><strong>Monitor live Network connections and traffic</strong></p>
<pre><code class="bash">sudo tcptrack -i eth0 -r 5 
</code></pre>

<h2 id="hardware-info">Hardware info</h2>
<p><strong>All hardware info</strong></p>
<pre><code class="bash">sudo lshw | less
</code></pre>

<p><strong>Motherbaord</strong></p>
<pre><code class="bash">sudo lshw -c system
</code></pre>

<p><strong>Network</strong></p>
<pre><code class="bash">sudo lshw -C network
</code></pre>

<p><strong>CPU</strong></p>
<pre><code class="bash">sudo lscpu 
</code></pre>

<p><strong>PCI (GPU info here as well)</strong></p>
<pre><code class="bash">sudo lspci 
</code></pre>

<p><strong>Memory</strong></p>
<pre><code class="bash">free -h 
</code></pre>

<h2 id="clonedownload-a-website">Clone/Download a website</h2>
<pre><code class="bash">wget --limit-rate=200k --no-clobber --convert-links --random-wait -r -p -E -e robots=off -U mozilla http://www.kossboss.com 
</code></pre>

<h2 id="backup-all-changed-config-files">Backup all changed config files</h2>
<pre><code class="bash">debsums -ce | tar --files-from=- -cf configs.tar 
</code></pre>

<h2 id="download-maps-from-csgo-web-server">Download maps from csgo web server</h2>
<pre><code class="bash">wget -r --no-parent --reject &quot;index.html*&quot;  http://fastdl.streamline-servers.com/fastdl/ThomasL/5623//maps/ |grep surf 
</code></pre>

<h2 id="mount-windows-partition-that-is-in-hibernation-mode">Mount Windows Partition that is in hibernation mode</h2>
<pre><code class="bash">sudo ntfsfix /dev/sda3 
sudo mount /dev/sda3 /mnt 
</code></pre>

<h2 id="listing-user-logins-reboot-times-and-bad-login-attempts">Listing User Logins, reboot times and bad login attempts</h2>
<p><strong>Get the running processes of logged-in users</strong></p>
<pre><code class="bash">w
</code></pre>

<p><strong>Display Logged in users</strong></p>
<pre><code class="bash">users 

who | cut -d' ' -f1 | sort | uniq
</code></pre>

<p><strong>Get all users login and logout history</strong></p>
<pre><code class="bash">last 
</code></pre>

<p><strong>Get the users login history</strong></p>
<pre><code class="bash">last [user] 
</code></pre>

<p><strong>Display bad login attempts</strong></p>
<pre><code class="bash">last b 
</code></pre>

<p><strong>Display last reboot times</strong></p>
<pre><code class="bash">last reboot | less 
</code></pre>

<h2 id="commonnly-used">Commonnly used</h2>
<p><strong>Run a command every x seconds</strong></p>
<pre><code class="bash">watch -n10 command args 
</code></pre>

<p><strong>Directory size disincluding sub directory info</strong></p>
<pre><code class="bash">du -hs /path/to/directory 
</code></pre>

<p><strong>Find packages</strong></p>
<pre><code class="bash">apt-cache search 
</code></pre>

<p><strong>Send mail</strong></p>
<pre><code class="bash">echo &quot;test message&quot; | mailx -s 'test subject' john@domain.com  
</code></pre>

<p><strong>Number of files in dir</strong></p>
<pre><code class="bash">ls | wc -l 
</code></pre>

<p><strong>Redirecting the standard error (stderr) and stdout to file</strong></p>
<pre><code class="bash">command &gt; file 2&gt;&amp;1  
</code></pre>

<p><strong>Get External/Public IP address:</strong></p>
<pre><code class="bash">curl ifconfig.me
</code></pre>

<p><strong>Find installed packages(Ubuntu)</strong></p>
<pre><code class="bash">dpkg -l | grep php 
</code></pre>

<p><strong>Update a single package using the CLI (Ubuntu)</strong></p>
<pre><code class="bash">sudo apt-get --only-upgrade install &lt;packagename&gt; 
</code></pre>

<h2 id="compare-files-and-directories-content">Compare files and directories content</h2>
<pre><code class="bash">diff file1 file2
diff /root/dir1/ /root/dir2/
</code></pre>

<p><strong>Compare file content with visual output</code></strong></p>
<pre><code class="bash">sdiff file1 file2
</code></pre>

<h2 id="network-manager">Network manager</h2>
<p><strong>View IP settings</strong></p>
<pre><code class="bash">sudo service network-manager start 
</code></pre>

<p>Ubuntu 14.04</p>
<pre><code class="bash">nmcli dev list iface eth0 
</code></pre>

<p>For newer versions, you can use this:</p>
<pre><code class="bash">nmcli dev show eth0 
</code></pre>

<h2 id="ufw">UFW</h2>
<p><strong>Find port and protocal</strong></p>
<pre><code class="bash">ufw status numbered |(grep '80/tcp'|awk -F&quot;[][]&quot; '{print $2}')
</code></pre>

<p><strong>Delete port</strong></p>
<pre><code class="bash">ufw delete $(ufw status numbered |(grep '80/tcp'|awk -F&quot;[][]&quot; '{print $2}'))
</code></pre>

<p><strong>Delete firewall rules on cli and auto select yes</strong></p>
<pre><code class="bash">yes | for i in {50..3}; do sudo ufw delete $i; done
</code></pre>

<h2 id="imagemagick-command-line-image-manipulation">ImageMagick - Command Line Image Manipulation</h2>
<p><strong>Installation</strong></p>
<pre><code class="bash">sudo apt-get install imagemagick 
sudo yum -y install ImageMagick 
</code></pre>

<p><strong>Converting Between Formats</strong></p>
<pre><code class="bash">convert howtogeek.png howtogeek.jpg 
</code></pre>

<p><strong>Resize Images</strong></p>
<pre><code class="bash">convert example.png -resize 200×100 example.png
</code></pre>

<p><strong>Resize Images &amp; Preserve aspect ratio</strong></p>
<pre><code class="bash">convert example.png -resize 200×100! example.png 
</code></pre>

<p><strong>Rotate Image</strong></p>
<pre><code class="bash">convert howtogeek.jpg -rotate 90 howtogeek-rotated.jpg 
</code></pre>

<p><strong>Converting Between Formats &amp; Changing quality</strong></p>
<pre><code class="bash">convert howtogeek.png -quality 95 howtogeek.jpg 
</code></pre>

<p>The Last example shows you that you can combined operations.</p>
<h2 id="tmux-screen">TMUX &amp; screen</h2>
<p><strong>Start new with session name</strong></p>
<pre><code class="bash">tmux new -s myname
</code></pre>

<p><strong>Attach</strong></p>
<pre><code class="bash">tmux a tmuxname
</code></pre>

<p><strong>Attach to named</strong></p>
<pre><code class="bash">tmux a -t myname
</code></pre>

<p><strong>List sessions</strong></p>
<pre><code class="bash">tmux ls
</code></pre>

<p><strong>Kill session</strong></p>
<pre><code class="bash">tmux kill-session -t myname
</code></pre>

<p><strong>Inject a command to a detached screen</strong></p>
<pre><code class="bash">screen -p 0 -X stuff $'bot_kill\n'
</code></pre>

<h2 id="curl">Curl</h2>
<p><strong>Get Response code</strong></p>
<pre><code class="bash">curl -sI https://$SITE | head -1
</code></pre>

<h2 id="dig">Dig</h2>
<p><strong>Reverse DNS lookup</strong> </p>
<pre><code class="bash">dig +noall +answer -x 199.232.99.199
</code></pre>

<p><code>-x</code>Reverse DNS lookup <br />
<code>+noall</code> and <code>+answer</code> makes output pretty</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../linuxtools-commands/" class="btn btn-neutral float-right" title="Linux Tools Commands">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../linux-sysadmin/" class="btn btn-neutral" title="Linux Sysadmin"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../linux-sysadmin/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../linuxtools-commands/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
